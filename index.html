<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriCheck - 자가 건강 & 영양소 체크</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Noto Sans KR', 'sans-serif'] },
                    colors: {
                        brand: { 50:'#f0fdf4', 100:'#dcfce7', 200:'#bbf7d0', 300:'#86efac', 400:'#4ade80', 500:'#22c55e', 600:'#16a34a', 700:'#15803d', 800:'#166534', 900:'#14532d' },
                        accent: { 50:'#eff6ff', 100:'#dbeafe', 200:'#bfdbfe', 300:'#93c5fd', 400:'#60a5fa', 500:'#3b82f6', 600:'#2563eb' }
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="font-sans bg-gray-50 min-h-screen">
    <!-- Top Progress Bar -->
    <div id="progressBarContainer" class="fixed top-0 left-0 w-full h-1.5 bg-gray-200 z-50">
        <div id="progressBar" class="h-full bg-gradient-to-r from-brand-500 to-accent-500 transition-all duration-500 ease-out" style="width: 0%"></div>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-sm border-b border-gray-100 sticky top-0 z-40 pt-1.5">
        <div class="max-w-2xl mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="w-9 h-9 bg-gradient-to-br from-brand-500 to-brand-600 rounded-xl flex items-center justify-center">
                    <i class="fas fa-leaf text-white text-sm"></i>
                </div>
                <span class="font-bold text-lg text-gray-800">NutriCheck</span>
            </div>
            <div id="headerStepInfo" class="text-xs text-gray-400 font-medium hidden">
                <span id="headerStepText"></span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-2xl mx-auto px-4 py-6 pb-32">
        
        <!-- STEP 0: Welcome -->
        <section id="step-welcome" class="step-section">
            <div class="text-center py-8">
                <div class="w-20 h-20 bg-gradient-to-br from-brand-400 to-brand-600 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-brand-200">
                    <i class="fas fa-heartbeat text-white text-3xl"></i>
                </div>
                <h1 class="text-2xl font-bold text-gray-800 mb-3">1~2분 자가 건강체크</h1>
                <p class="text-gray-500 text-sm leading-relaxed max-w-sm mx-auto mb-2">
                    간단한 체크리스트를 통해<br>
                    <strong class="text-gray-700">부족한 영양소</strong>와 <strong class="text-gray-700">의심 증상</strong>을 확인해보세요.
                </p>
                <div class="flex items-center justify-center gap-4 mt-6 text-xs text-gray-400">
                    <span><i class="fas fa-clock mr-1"></i>약 1~2분</span>
                    <span><i class="fas fa-check-circle mr-1"></i>객관식 선택</span>
                    <span><i class="fas fa-shield-alt mr-1"></i>개인정보 미수집</span>
                </div>
            </div>
            <button onclick="startCheck()" class="btn-primary w-full mt-4">
                건강체크 시작하기 <i class="fas fa-arrow-right ml-2"></i>
            </button>
        </section>

        <!-- STEP 1: Basic Info -->
        <section id="step-basic" class="step-section hidden">
            <div class="step-header">
                <span class="step-badge">STEP 1</span>
                <h2 class="step-title">기본 정보</h2>
                <p class="step-desc">정확한 분석을 위해 기본 정보를 선택해주세요</p>
            </div>

            <!-- Gender -->
            <div class="question-card">
                <label class="question-label"><i class="fas fa-venus-mars mr-2 text-brand-500"></i>성별</label>
                <div class="grid grid-cols-2 gap-3">
                    <button class="option-btn" data-group="gender" data-value="male" onclick="selectOption(this)">
                        <i class="fas fa-mars text-blue-500 text-lg"></i>
                        <span>남성</span>
                    </button>
                    <button class="option-btn" data-group="gender" data-value="female" onclick="selectOption(this)">
                        <i class="fas fa-venus text-pink-500 text-lg"></i>
                        <span>여성</span>
                    </button>
                </div>
            </div>

            <!-- Age -->
            <div class="question-card">
                <label class="question-label"><i class="fas fa-birthday-cake mr-2 text-brand-500"></i>나이대</label>
                <div class="grid grid-cols-3 gap-2">
                    <button class="option-btn-sm" data-group="age" data-value="10s" onclick="selectOption(this)">10대</button>
                    <button class="option-btn-sm" data-group="age" data-value="20s" onclick="selectOption(this)">20대</button>
                    <button class="option-btn-sm" data-group="age" data-value="30s" onclick="selectOption(this)">30대</button>
                    <button class="option-btn-sm" data-group="age" data-value="40s" onclick="selectOption(this)">40대</button>
                    <button class="option-btn-sm" data-group="age" data-value="50s" onclick="selectOption(this)">50대</button>
                    <button class="option-btn-sm" data-group="age" data-value="60plus" onclick="selectOption(this)">60대 이상</button>
                </div>
            </div>

            <!-- Lifestyle -->
            <div class="question-card">
                <label class="question-label"><i class="fas fa-running mr-2 text-brand-500"></i>주된 생활 패턴</label>
                <div class="grid grid-cols-1 gap-2">
                    <button class="option-btn-wide" data-group="lifestyle" data-value="sedentary" onclick="selectOption(this)">
                        <i class="fas fa-couch text-gray-400"></i>
                        <div class="text-left"><span class="font-medium">주로 앉아서 생활</span><br><span class="text-xs text-gray-400">사무직, 재택근무 등</span></div>
                    </button>
                    <button class="option-btn-wide" data-group="lifestyle" data-value="moderate" onclick="selectOption(this)">
                        <i class="fas fa-walking text-blue-400"></i>
                        <div class="text-left"><span class="font-medium">보통 활동량</span><br><span class="text-xs text-gray-400">통근, 가벼운 운동 주 1~2회</span></div>
                    </button>
                    <button class="option-btn-wide" data-group="lifestyle" data-value="active" onclick="selectOption(this)">
                        <i class="fas fa-dumbbell text-green-500"></i>
                        <div class="text-left"><span class="font-medium">활동적</span><br><span class="text-xs text-gray-400">규칙적 운동, 주 3회 이상</span></div>
                    </button>
                    <button class="option-btn-wide" data-group="lifestyle" data-value="very_active" onclick="selectOption(this)">
                        <i class="fas fa-fire text-orange-500"></i>
                        <div class="text-left"><span class="font-medium">매우 활동적 / 육체노동</span><br><span class="text-xs text-gray-400">고강도 운동, 현장직 등</span></div>
                    </button>
                </div>
            </div>

            <!-- Diet type -->
            <div class="question-card">
                <label class="question-label"><i class="fas fa-utensils mr-2 text-brand-500"></i>식습관 유형</label>
                <div class="grid grid-cols-1 gap-2">
                    <button class="option-btn-wide" data-group="diet" data-value="regular" onclick="selectOption(this)">
                        <i class="fas fa-drumstick-bite text-amber-500"></i>
                        <div class="text-left"><span class="font-medium">일반식 (편식 없음)</span></div>
                    </button>
                    <button class="option-btn-wide" data-group="diet" data-value="meat_heavy" onclick="selectOption(this)">
                        <i class="fas fa-bacon text-red-400"></i>
                        <div class="text-left"><span class="font-medium">육류 위주 / 채소 적게</span></div>
                    </button>
                    <button class="option-btn-wide" data-group="diet" data-value="carb_heavy" onclick="selectOption(this)">
                        <i class="fas fa-bread-slice text-yellow-600"></i>
                        <div class="text-left"><span class="font-medium">탄수화물 위주 (밥, 빵, 면)</span></div>
                    </button>
                    <button class="option-btn-wide" data-group="diet" data-value="irregular" onclick="selectOption(this)">
                        <i class="fas fa-clock text-gray-400"></i>
                        <div class="text-left"><span class="font-medium">불규칙한 식사 / 결식 잦음</span></div>
                    </button>
                    <button class="option-btn-wide" data-group="diet" data-value="vegetarian" onclick="selectOption(this)">
                        <i class="fas fa-seedling text-green-500"></i>
                        <div class="text-left"><span class="font-medium">채식 위주 / 비건</span></div>
                    </button>
                </div>
            </div>
        </section>

        <!-- STEP 2~7: Symptom Checklists (generated by JS) -->
        <section id="step-symptoms" class="step-section hidden"></section>

        <!-- STEP LAST: Analyzing -->
        <section id="step-analyzing" class="step-section hidden">
            <div class="text-center py-16">
                <div class="analyzing-spinner mx-auto mb-6"></div>
                <h2 class="text-xl font-bold text-gray-700 mb-2">분석 중입니다...</h2>
                <p class="text-sm text-gray-400">입력하신 정보를 바탕으로<br>영양소 결핍 가능성을 분석하고 있어요</p>
                <div class="mt-6 flex justify-center gap-2" id="analyzeSteps">
                    <span class="analyze-dot"></span>
                    <span class="analyze-dot"></span>
                    <span class="analyze-dot"></span>
                </div>
            </div>
        </section>

        <!-- Result -->
        <section id="step-result" class="step-section hidden"></section>

    </main>

    <!-- Bottom Navigation -->
    <div id="bottomNav" class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-100 shadow-lg z-40 hidden">
        <div class="max-w-2xl mx-auto px-4 py-3 flex items-center justify-between">
            <button id="btnPrev" onclick="prevStep()" class="flex items-center gap-2 text-gray-400 hover:text-gray-600 transition font-medium text-sm px-4 py-2 rounded-xl hover:bg-gray-50">
                <i class="fas fa-chevron-left text-xs"></i> 이전
            </button>
            <div id="stepIndicator" class="text-xs text-gray-300 font-medium"></div>
            <button id="btnNext" onclick="nextStep()" class="flex items-center gap-2 bg-brand-500 text-white font-semibold text-sm px-6 py-2.5 rounded-xl hover:bg-brand-600 transition shadow-sm disabled:opacity-40 disabled:cursor-not-allowed" disabled>
                다음 <i class="fas fa-chevron-right text-xs ml-1"></i>
            </button>
        </div>
    </div>

    <script src="js/checklist-data.js"></script>
    <script src="js/analysis-engine.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
